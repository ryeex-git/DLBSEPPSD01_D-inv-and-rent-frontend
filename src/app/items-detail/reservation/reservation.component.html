<h2 mat-dialog-title>Reservierung anlegen</h2>

<mat-dialog-content class="dialog-content">
  <div class="item-hint" *ngIf="data?.item">
    <mat-icon aria-hidden="true">inventory_2</mat-icon>
    <div>
      <div class="name">{{ data?.item?.name || 'Item' }}</div>
      <div class="muted">#{{ data?.item?.inventoryNo || '—' }}</div>
    </div>
  </div>

  <form [formGroup]="form" class="form-grid">
    <!-- Datum: Range -->
    <mat-form-field appearance="outline" class="full">
      <mat-label>Zeitraum (Datum)</mat-label>
      <mat-date-range-input [rangePicker]="picker" [min]="minDate">
        <input matStartDate placeholder="Start" formControlName="startDate">
        <input matEndDate   placeholder="Ende"  formControlName="endDate">
      </mat-date-range-input>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>
      <mat-error *ngIf="form.hasError('rangeInvalid')">Ende muss nach Start liegen.</mat-error>
    </mat-form-field>

    <!-- Zeiten -->
    <mat-form-field appearance="outline">
      <mat-label>Startzeit</mat-label>
      <input matInput type="time" formControlName="startTime">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Endzeit</mat-label>
      <input matInput type="time" formControlName="endTime">
      <mat-error *ngIf="form.hasError('rangeInvalid')">Ende nach Start wählen.</mat-error>
    </mat-form-field>

    <!-- Notiz -->
    <mat-form-field appearance="outline" class="full">
      <mat-label>Notiz (optional)</mat-label>
      <textarea matInput rows="2" formControlName="note" placeholder="z. B. Projekt/zweck"></textarea>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="cancel()">Abbrechen</button>
  <button mat-flat-button color="primary" (click)="submit()" [disabled]="form.invalid">
    <mat-icon>event_available</mat-icon>
    Anlegen
  </button>
</mat-dialog-actions>
